# 管理元数据

在数据集成模块中，元数据构成了一个统一的、可配置的通用表模型，包含表信息、字段信息和字段排序等属性。

通用表模型可以关联多个数据源，使不同的数据源能够共享该模型，从而减少元数据冗余，增加系统的灵活性和可扩展性。

## 关于通用表模型

在数据集成的「**数据源**」页面的数据源列表中，用户点击目标数据源名称即可进入数据源详情页面。

进入数据源详情页面后，在数据源“关联的表”区域，用户点击 **查看全部数据表** 即可进入数据集成的「**全部数据表**」页面。该页面以列表形式显示所有的通用表模型，并支持创建通用表模型和从数据源导入通用表模型。目标通用表模型所在行的隐藏菜单「…」还提供修改和删除通用表模型以及字段管理的选项。

<img src="https://pdb-doc.oss-cn-beijing.aliyuncs.com/dataflow/v2/table-model-page1.png" scope="external" />

通用表模型的列表包含如下字段信息：
* 表名：通用表模型的表名称。
* Schema（选填）：Schema 名称。如果未指定，则默认为“public”。
* 表名是否大小写敏感：表名是否开启了大小写敏感。
* 标题（选填）：自定义表的标题。
* 数据源：如果通用表是“从数据源导入”的并绑定到了源数据源，则会显示该数据源的名称。
* 数据源类型：如果通用表是“从数据源导入”的并绑定到了源数据源，则会显示该数据源的类型。
* 描述（选填）：对通用表的描述。
* 创建时间：创建通用表的时间。

通用表模型的列表提供如下快捷操作：
* 根据数据源类型筛选信息：使用**数据源类型**控件可以通过数据源的类型筛选相关的通用表信息。
* 根据 Schema 名称搜索信息：使用**输入 Schema 查询**的搜索框可以通过 Schema 的名称搜索相关的通用表信息。
* 根据表名搜索信息：使用**输入表名查询**的搜索框可以通过表的名称搜索相关的通用表信息。
* 立即刷新：点击立即刷新图标可以即刻同步当前的列表信息为最新。
* 修改通用表：在通用表模型列表的行隐藏菜单下提供了修改的快捷键，可以用于修改指定的表信息。
* 删除通用表：在通用表模型列表的行隐藏菜单下提供了删除的快捷键，可以用于删除指定的表。

## 创建一个新的通用表模型

在数据集成的「**全部数据表**」页面，如果需要创建一个新的通用表模型，操作步骤如下：
1. 点击 **创建** 即可进入创建表的页面。
2. 输入该通用表的表名。
3. （可选）指定该通用表所属的 Schema。
4. 指定是否启用表名的大小写敏感。默认设置为不启用，勾选该选项后即可启用。
5. （可选）分别输入该通用表的标题和描述信息。
3. 点击 **完成**。通用表模型创建成功后，其信息会自动同步到列表中。

通过上述步骤创建的通用表模型，只是创建了一张表并无字段信息。在新创建的通用表模型所在行的隐藏菜单「…」下，用户选择 **字段管理** 选项即可进入目标通用表的「**字段管理**」页面，并根据实际需求进行新增字段、修改字段属性和删除字段等管理操作，详细信息请参见本章节的 **管理通用表模型的字段**。

## 从数据源导入一个通用表模型

在数据集成的「**全部数据表**」页面，如果需要从数据源导入一个通用表模型，操作步骤如下：

1. 点击 **从数据源导入** 即可进入从数据源导入表的页面。
2. 在“选择数据源”的下拉列表中选择一个目标数据源，之后页面会显示“选择原始表”字段。
3. 在“选择原始表”下拉列表中选择目标数据源的一张表。如果需要查看该原始表的字段信息，点击 **查看字段** 即可显示所选原始表的字段名、字段类型、字段精度、主键等信息。

   指定原始表后，页面会随即展开需要配置的字段信息。

   <img src="https://pdb-doc.oss-cn-beijing.aliyuncs.com/dataflow/v2/import-table-from-data-source.png" scope="external" />

4. 指定所导入的原始表是否绑定到数据源。该原始表会默认被绑定到所选的目标数据源，取消勾选即可解除绑定。

   <note type="tip">
     <p>解除绑定后，该表在通用表模型列表的“数据源”和“数据源类型”字段不会显示相应的信息。</p>   
   </note>
   
5. （可选）如果需要重新命名要导入的表，可以输入一个新的表名。
6. 指定是否启用表名的大小写敏感。默认设置为不启用，勾选该选项后即可启用。
6. （可选）分别输入该通用表的标题和描述信息。
7. 点击 **完成**。通用表模型导入成功后，其信息会自动同步到列表中。

在所导入的通用表模型所在行的隐藏菜单「…」下，用户选择 **字段管理** 选项即可进入目标通用表的「**字段管理**」页面，并进行新增字段、修改字段属性和删除字段等管理操作，详细信息请参见本章节的 **管理通用表模型的字段**。

## 管理通用表模型的字段

<note type="attention">
   <p> 建议用户谨慎使用字段管理功能。</p>   
</note>

用户可以根据不同的数据源，灵活地定义表结构以适应不同的业务场景，包括新增字段、自定义已有字段的名称和字段数据类型等属性信息。

在通用表模型列表的行隐藏菜单下，用户点击 **字段管理** 选项即可进入指定通用表的「**字段管理**」页面。该页面支持如下操作：

* 新增字段

  在指定通用表的字段列表下方，点击 **新增** 来添加新的自定义字段。分别输入字段的属性信息，包括字段名、字段类型、字段长度（如有）、字段精度（如有）、是否主键和注释等。
  
  完成每个字段的操作后，点击 **完成** 按钮，该字段就会被添加到字段列表中。

* 修改字段属性

  在字段列表的“操作”栏下，点击 **修改** 来修改指定字段的属性信息，包括字段名、字段类型、字段长度（如有）、字段精度（如有）、是否主键和注释等。完成每个字段的操作后，点击 **完成** 即可保存对目标字段的更改。

* 删除字段

  在字段列表的隐藏菜单下，点击 **删除**，确认后即可删除指定字段并将其从列表中移除。

* 字段排序

  字段排序管理功能使用户能够根据个人喜好或业务需求定义字段的显示顺序。用户可以通过拖拽或手动调整字段顺序，来合理地安排字段的排序。